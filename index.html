<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–∫–æ-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
    <header>
        <h1>üåç –≠–∫–æ-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h1>
        <p>–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã</p>
    </header>

    <main>
        <section class="stats">
            <div class="stat-card">
                <h3>üíß –ü–∏—Ç—å–µ–≤–∞—è –≤–æ–¥–∞</h3>
                <div class="counter">2.5%</div>
                <p>–ø—Ä–µ—Å–Ω–æ–π –≤–æ–¥—ã –æ—Å—Ç–∞–ª–æ—Å—å</p>
            </div>
            <div class="stat-card">
                <h3>üî• –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∂–∞—Ä—ã</h3>
                <div id="fireCounter" class="counter">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <p>–æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏</p>
            </div>
            <div class="stat-card">
                <h3>üå´Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞</h3>
                <div id="airQuality" class="counter">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <p>—Å—Ç–∞–Ω—Ü–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</p>
            </div>
        </section>

        <section class="map-section">
            <h2>–ö–∞—Ä—Ç–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</h2>
            <div class="map-tabs">
                <button class="tab-btn active" onclick="showTab('air')">–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞</button>
                <button class="tab-btn" onclick="showTab('fires')">–õ–µ—Å–Ω—ã–µ –ø–æ–∂–∞—Ä—ã</button>
            </div>
            <div id="map"></div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è -->
        <section id="historical-pollution" class="historical-section">
            <h2>üìä –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ (1800-2024)</h2>
            <div class="historical-controls">
                <div class="time-controls">
                    <label>–ì–æ–¥: <span id="currentYearDisplay">2024</span></label>
                    <input type="range" id="yearSlider" min="1800" max="2024" value="2024" class="timeline-slider">
                </div>
                <div class="data-type-buttons">
                    <button class="data-btn active" data-type="air">üå§Ô∏è –í–æ–∑–¥—É—Ö</button>
                    <button class="data-btn" data-type="water">üåä –í–æ–¥–∞</button>
                </div>
            </div>
            <div id="pollutionMap" style="height: 500px; margin: 20px 0; border-radius: 10px;"></div>
            <div class="pollution-info">
                <div id="pollutionStats" class="stats-card">
                    <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ <span id="statsYear">2024</span> –≥–æ–¥</h4>
                    <div id="airStats" class="stats-content">
                        <p>CO‚ÇÇ: <span id="co2Value">420</span> ppm</p>
                        <p>SO‚ÇÇ: <span id="so2Value">60</span> ¬µg/m¬≥</p>
                        <p>NO‚ÇÇ: <span id="no2Value">50</span> ¬µg/m¬≥</p>
                    </div>
                    <div id="waterStats" class="stats-content" style="display: none;">
                        <p>–°—Ç–∞–Ω—Ü–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: <span id="waterStationsCount">70</span></p>
                        <p>–°—Ä–µ–¥–Ω–µ–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ: <span id="avgWaterPollution">35</span>%</p>
                    </div>
                </div>
                <div class="legend">
                    <h4>–õ–µ–≥–µ–Ω–¥–∞</h4>
                    <div id="airLegend">
                        <div class="legend-item">
                            <span class="color-box air-excellent"></span>
                            <span>–û—Ç–ª–∏—á–Ω–æ–µ (0-12 ¬µg/m¬≥)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box air-good"></span>
                            <span>–•–æ—Ä–æ—à–µ–µ (12-35 ¬µg/m¬≥)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box air-moderate"></span>
                            <span>–£–º–µ—Ä–µ–Ω–Ω–æ–µ (35-55 ¬µg/m¬≥)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box air-poor"></span>
                            <span>–ü–ª–æ—Ö–æ–µ (55-150 ¬µg/m¬≥)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box air-very-poor"></span>
                            <span>–û—á–µ–Ω—å –ø–ª–æ—Ö–æ–µ (150+ ¬µg/m¬≥)</span>
                        </div>
                    </div>
                    <div id="waterLegend" style="display: none;">
                        <div class="legend-item">
                            <span class="color-box water-clean"></span>
                            <span>–ß–∏—Å—Ç–∞—è (0-20%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box water-moderate"></span>
                            <span>–£–º–µ—Ä–µ–Ω–Ω–∞—è (20-40%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box water-polluted"></span>
                            <span>–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–∞—è (40-60%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="color-box water-heavy-polluted"></span>
                            <span>–°–∏–ª—å–Ω–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–∞—è (60%+)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è -->
        <section class="pollution-impact">
            <h2>üíî –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã</h2>
            <div class="impact-stats">
                <div class="impact-card">
                    <h3>üêæ –ü–æ–≥–∏–±—à–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ</h3>
                    <div class="counter" id="animalDeaths">1.5 –º–ª–Ω</div>
                    <p>–≤ –≥–æ–¥ –∏–∑-–∑–∞ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã</p>
                    <div class="impact-details">
                        <p>‚Ä¢ 1 –º–ª–Ω –º–æ—Ä—Å–∫–∏—Ö –ø—Ç–∏—Ü</p>
                        <p>‚Ä¢ 100 —Ç—ã—Å –º–æ—Ä—Å–∫–∏—Ö –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–∏—Ö</p>
                        <p>‚Ä¢ 400 —Ç—ã—Å –¥—Ä—É–≥–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö</p>
                    </div>
                </div>
                <div class="impact-card">
                    <h3>üë• –ü–æ–≥–∏–±—à–∏–µ –ª—é–¥–∏</h3>
                    <div class="counter" id="humanDeaths">9 –º–ª–Ω</div>
                    <p>–≤ –≥–æ–¥ –æ—Ç –±–æ–ª–µ–∑–Ω–µ–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ–º</p>
                    <div class="impact-details">
                        <p>‚Ä¢ 4.2 –º–ª–Ω –æ—Ç –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –≤–æ–∑–¥—É—Ö–∞</p>
                        <p>‚Ä¢ 2.2 –º–ª–Ω –æ—Ç –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –≤–æ–¥—ã</p>
                        <p>‚Ä¢ 2.6 –º–ª–Ω –æ—Ç –¥—Ä—É–≥–∏—Ö –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ -->
        <section class="recycling-calculator">
            <h2>üå± –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</h2>
            <div class="calc-tabs">
                <button class="calc-tab active" onclick="showRecyclingTab('general', event)">‚ôªÔ∏è –û–±—â–∏–π —Ä–∞—Å—á–µ—Ç</button>
                <button class="calc-tab" onclick="showRecyclingTab('batteries', event)">üîã –ë–∞—Ç–∞—Ä–µ–π–∫–∏</button>
                <button class="calc-tab" onclick="showRecyclingTab('bottles', event)">ü•§ –ë—É—Ç—ã–ª–∫–∏</button>
            </div>

            <div id="generalRecycling" class="recycling-form active">
                <div class="input-group">
                    <label>üìÑ –ú–∞–∫—É–ª–∞—Ç—É—Ä–∞ (–∫–≥):</label>
                    <input type="number" id="paperWaste" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–≥" min="0">
                </div>
                <div class="input-group">
                    <label>ü•§ –ü–ª–∞—Å—Ç–∏–∫ (–∫–≥):</label>
                    <input type="number" id="plasticWaste" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–≥" min="0">
                </div>
                <div class="input-group">
                    <label>üç∂ –°—Ç–µ–∫–ª–æ (–∫–≥):</label>
                    <input type="number" id="glassWaste" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–≥" min="0">
                </div>
                <div class="input-group">
                    <label>üî© –ú–µ—Ç–∞–ª–ª (–∫–≥):</label>
                    <input type="number" id="metalWaste" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–≥" min="0">
                </div>
                <button onclick="calculateResourceSavings()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</button>
            </div>

            <div id="batteriesRecycling" class="recycling-form">
                <div class="input-group">
                    <label>üîã –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ç–∞—Ä–µ–µ–∫ (—à—Ç):</label>
                    <input type="number" id="batteriesCount" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" min="0">
                </div>
                <div class="battery-info">
                    <p>üí° 1 –±–∞—Ç–∞—Ä–µ–π–∫–∞ –∑–∞–≥—Ä—è–∑–Ω—è–µ—Ç 20 –º¬≤ –∑–µ–º–ª–∏ –∏ 400 –ª –≤–æ–¥—ã</p>
                </div>
                <button onclick="calculateBatteriesSavings()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç</button>
            </div>

            <div id="bottlesRecycling" class="recycling-form">
                <div class="input-group">
                    <label>ü•§ –ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–µ –±—É—Ç—ã–ª–∫–∏ (—à—Ç):</label>
                    <input type="number" id="plasticBottles" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" min="0">
                </div>
                <div class="input-group">
                    <label>üç∂ –°—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –±—É—Ç—ã–ª–∫–∏ (—à—Ç):</label>
                    <input type="number" id="glassBottles" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" min="0">
                </div>
                <div class="input-group">
                    <label>ü•´ –ê–ª—é–º–∏–Ω–∏–µ–≤—ã–µ –±–∞–Ω–∫–∏ (—à—Ç):</label>
                    <input type="number" id="aluminumCans" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" min="0">
                </div>
                <button onclick="calculateBottlesSavings()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤</button>
            </div>

            <div id="recyclingResult" class="result savings-result"></div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —É–≥–ª–µ—Ä–æ–¥–Ω–æ–≥–æ —Å–ª–µ–¥–∞ -->
        <section class="calculator">
            <h2>üåç –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —É–≥–ª–µ—Ä–æ–¥–Ω–æ–≥–æ —Å–ª–µ–¥–∞</h2>
            <div class="calc-form">
                <div class="input-group">
                    <label>üöó –ü—Ä–æ–±–µ–≥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ –≤ –º–µ—Å—è—Ü (–∫–º):</label>
                    <input type="number" id="carKm" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–∏–ª–æ–º–µ—Ç—Ä—ã">
                </div>
                <div class="input-group">
                    <label>üí° –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –≤ –º–µ—Å—è—Ü (–∫–í—Ç¬∑—á):</label>
                    <input type="number" id="electricity" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–í—Ç¬∑—á">
                </div>
                <div class="input-group">
                    <label>‚úàÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–ª–µ—Ç–æ–≤ –≤ –≥–æ–¥:</label>
                    <input type="number" id="flights" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–ª–µ—Ç–æ–≤">
                </div>
                <button onclick="calculateCarbonFootprint()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —É–≥–ª–µ—Ä–æ–¥–Ω—ã–π —Å–ª–µ–¥</button>
                <div id="carbonResult" class="result"></div>
            </div>
        </section>
    </main>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="app.js"></script>
    <script src="calculator.js"></script>
    <script src="historical-map.js"></script>
</body>
</html>
